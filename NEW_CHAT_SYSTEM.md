# ูุธุงู ุงูุฏุฑุฏุดุฉ ุงูุฌุฏูุฏ - New Chat System

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุฅุนุงุฏุฉ ุชุตููู ูุธุงู ุงูุฏุฑุฏุดุฉ ุจุงููุงูู ุญุณุจ ุงููุชุทูุจุงุช ุงูุฌุฏูุฏุฉ:

### ูุงุฌูุฉ ุงููุณุชุฎุฏู (User)
- ุตูุญุฉ ูุงุญุฏุฉ ููุฏุฑุฏุดุฉ ูุน ุงูุฅุฏุงุฑุฉ ููุท
- ูุงุฌูุฉ ุจุณูุทุฉ ููุจุงุดุฑุฉ
- ุฅุฑุณุงู ูุงุณุชูุจุงู ุงูุฑุณุงุฆู ูุน ุงูุฅุฏุงุฑุฉ

### ูุงุฌูุฉ ุงูุฅุฏุงุฑุฉ (Admin)
- ูุงุฆูุฉ ุจุฌููุน ุงููุณุชุฎุฏููู ุงูุฐูู ุฃุฑุณููุง ุฑุณุงุฆู
- ุนูุฏ ุงุฎุชูุงุฑ ูุณุชุฎุฏูุ ูุธูุฑ ุงูุดุงุช ุงูุฎุงุต ุจู
- ุฅุฏุงุฑุฉ ุงููุญุงุฏุซุงุช ูุน ุฌููุน ุงููุณุชุฎุฏููู

## ุงููููุงุช ุงูุฌุฏูุฏุฉ

### Pages
- `src/pages/chat/UserChat.jsx` - ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุฌุฏูุฏุฉ
- `src/pages/chat/AdminChatNew.jsx` - ูุงุฌูุฉ ุงูุฅุฏุงุฑุฉ ุงูุฌุฏูุฏุฉ

### Components
- `src/components/chat/ChatNotificationBadge.jsx` - ูุธุงู ุงูุฅุดุนุงุฑุงุช ุงูุฌุฏูุฏ

### Context
- `src/contexts/ChatContext.js` - ุชู ุฅุนุงุฏุฉ ุชุตูููู ููู API ุงูุฌุฏูุฏ

## ุงูููุฒุงุช ุงูููููุฐุฉ

### โ ูุงุฌูุฉ ุงููุณุชุฎุฏู
- ุฏุฑุฏุดุฉ ูุจุงุดุฑุฉ ูุน ุงูุฅุฏุงุฑุฉ
- ุนุฑุถ timestamp ูุงุณู ุงููุฑุณู
- ูุคุดุฑ ุงููุชุงุจุฉ
- ุฅุดุนุงุฑุงุช ููุฑูุฉ
- ูุงุฌูุฉ ุนุฑุจูุฉ

### โ ูุงุฌูุฉ ุงูุฅุฏุงุฑุฉ
- ูุงุฆูุฉ ุงููุณุชุฎุฏููู ุงูุฐูู ุฃุฑุณููุง ุฑุณุงุฆู
- ุงุฎุชูุงุฑ ูุณุชุฎุฏู ูุนุฑุถ ูุญุงุฏุซุชู
- ุฅุฏุงุฑุฉ ุงููุญุงุฏุซุงุช ูุน ุฌููุน ุงููุณุชุฎุฏููู
- ุนุฑุถ timestamp ูุงุณู ุงููุฑุณู
- ูุคุดุฑ ุงููุชุงุจุฉ

### โ ุงูููุฒุงุช ุงูุชูููุฉ
- Socket.IO ููุฑุณุงุฆู ุงูููุฑูุฉ
- API integration ูุน ุงูู backend
- ูุธุงู ุงูุฅุดุนุงุฑุงุช
- ูุคุดุฑุงุช ุงููุชุงุจุฉ
- ุนุฑุถ ุงูููุช ูุงููุฑุณู

## API Integration

### Endpoints ุงููุณุชุฎุฏูุฉ:
```
GET /api/chat/conversations - ุงูุญุตูู ุนูู ุงููุญุงุฏุซุงุช
GET /api/chat/conversations/{id}/messages - ุงูุญุตูู ุนูู ุงูุฑุณุงุฆู
POST /api/chat/messages - ุฅุฑุณุงู ุฑุณุงูุฉ
GET /api/chat/users - ุงูุญุตูู ุนูู ุงููุณุชุฎุฏููู (ููุฅุฏุงุฑุฉ)
GET /api/chat/conversations/user/{userId} - ุงูุญุตูู ุนูู ูุญุงุฏุซุฉ ูุน ูุณุชุฎุฏู
```

### Socket.IO Events:
**Client โ Server:**
- `send_message` - ุฅุฑุณุงู ุฑุณุงูุฉ
- `typing` - ูุคุดุฑ ุงููุชุงุจุฉ

**Server โ Client:**
- `new_message` - ุฑุณุงูุฉ ุฌุฏูุฏุฉ
- `user_typing` - ูุคุดุฑ ุงููุชุงุจุฉ

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุณุชุฎุฏููู:
1. ุณุฌู ุงูุฏุฎูู
2. ุงุฐูุจ ุฅูู `/chat`
3. ุงุจุฏุฃ ุงูุฏุฑุฏุดุฉ ูุน ุงูุฅุฏุงุฑุฉ ูุจุงุดุฑุฉ

### ููุฅุฏุงุฑุฉ:
1. ุณุฌู ุงูุฏุฎูู ูุฅุฏุงุฑู
2. ุงุฐูุจ ุฅูู `/admin/chat`
3. ุงุฎุชุฑ ูุณุชุฎุฏู ูู ุงููุงุฆูุฉ
4. ุงุจุฏุฃ ุงูุฏุฑุฏุดุฉ ูุนู

## ุงูุชุญุฏูุซุงุช ุงูููุทุจูุฉ

### Router:
- โ ุชุญุฏูุซ `/chat` ูุงุณุชุฎุฏุงู `UserChat`
- โ ุชุญุฏูุซ `/admin/chat` ูุงุณุชุฎุฏุงู `AdminChatNew`

### Navbar:
- โ ุชุญุฏูุซ ูุธุงู ุงูุฅุดุนุงุฑุงุช
- โ ุฅุถุงูุฉ ูุคุดุฑ ุงูุงุชุตุงู

### Context:
- โ ุฅุนุงุฏุฉ ุชุตููู `ChatContext` ููู API ุงูุฌุฏูุฏ
- โ ุชุจุณูุท ุงููุธุงุฆู
- โ ุชุญุณูู ุงูุฃุฏุงุก

## ุงููููุฒุงุช ุงูุฌุฏูุฏุฉ

### 1. ูุงุฌูุฉ ูุจุณุทุฉ
- ูุงุฌูุฉ ุงููุณุชุฎุฏู: ุฏุฑุฏุดุฉ ูุจุงุดุฑุฉ ูุน ุงูุฅุฏุงุฑุฉ
- ูุงุฌูุฉ ุงูุฅุฏุงุฑุฉ: ูุงุฆูุฉ ุงููุณุชุฎุฏููู + ุฏุฑุฏุดุฉ

### 2. ุนุฑุถ ูุญุณู
- timestamp ูุงุถุญ ููู ุฑุณุงูุฉ
- ุงุณู ุงููุฑุณู ููู ุฑุณุงูุฉ
- ูุคุดุฑุงุช ุงููุชุงุจุฉ

### 3. ูุธุงู ุฅุดุนุงุฑุงุช ูุญุณู
- ุฅุดุนุงุฑุงุช ููุฑูุฉ
- ุนุฏุงุฏ ุงูุฅุดุนุงุฑุงุช
- ุฅุฏุงุฑุฉ ุงูุฅุดุนุงุฑุงุช

### 4. Socket.IO ูุญุณู
- ุงุชุตุงู ูุณุชูุฑ
- ูุคุดุฑุงุช ุงููุชุงุจุฉ
- ุฑุณุงุฆู ููุฑูุฉ

## ุงูุฃูุงู
- ุฌููุน ุงูุทูุจุงุช ุชุชุทูุจ JWT token
- Socket.IO ูุณุชุฎุฏู JWT ูููุตุงุฏูุฉ
- ุงููุณุชุฎุฏููู ูุฑูู ููุท ูุญุงุฏุซุงุชูู
- ุงูุฅุฏุงุฑุฉ ุชุฑู ุฌููุน ุงููุญุงุฏุซุงุช

## ุงูุชุฎุตูุต
ูููู ุชุฎุตูุต ุงููุธุงู ูู ุฎูุงู:
- ุชุนุฏูู ุงูููููุงุช ูู `src/pages/chat/`
- ุชุบููุฑ ุงูุฃููุงู ูุงูุชุตููู
- ุฅุถุงูุฉ ููุฒุงุช ุฌุฏูุฏุฉ
- ุชุฎุตูุต ุงูุฅุดุนุงุฑุงุช

## ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุฅุฐุง ูู ุชุธูุฑ ุงูุฏุฑุฏุดุฉ:
1. ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู
2. ุชุญูู ูู ุงุชุตุงู ุงูู backend server
3. ุงูุชุญ Developer Tools ููุญุต Console ููุฃุฎุทุงุก

### ุฅุฐุง ูู ุชุนูู ุงูุฑุณุงุฆู:
1. ุชุฃูุฏ ูู ุชุดุบูู Socket.IO ูู ุงูู backend
2. ุชุญูู ูู JWT token
3. ูุญุต Network tab ููุงุชุตุงูุงุช

## ุงูุฑูุงุจุท
- **ุงููุณุชุฎุฏููู:** `/chat`
- **ุงูุฅุฏุงุฑุฉ:** `/admin/chat`

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐






